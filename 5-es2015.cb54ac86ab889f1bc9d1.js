(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{TyDT:function(e,t,i){"use strict";i.r(t),i.d(t,"DetailsModule",function(){return U});var a=i("ofXK"),c=i("tyNb"),n=i("l7P3"),r=i("9jGm"),o=i("f0Wu");function s(e){return o.unix(e).format("DD MMM - dddd").toUpperCase()}function d(e,t){return o.unix(e).tz(t).format("HH:mm")}const b=Object(n.g)("[Details] Load Weather Details"),u=Object(n.g)("[Details] Load Weather Details Success",Object(n.l)()),h=Object(n.g)("[Details] Load Weather Details Failed"),l=Object(n.h)("details"),m=Object(n.j)(l,e=>e.entity),y=Object(n.j)(l,e=>e.loading),f=Object(n.j)(l,e=>e.error);var g=i("eTSW"),p=i("fXoL"),w=i("668k"),x=i("neNJ"),v=i("oCmZ");let P=(()=>{class e{get weatherIcon(){return Object(v.a)(this.weather.icon)}get directionWind(){return function(e){let t;try{t=i("gKfn")}catch(a){t=[]}return t.reduce((t,i)=>Math.abs(i.deg-e)>Math.abs(t.deg-e)?t:i)}(this.weather.wind.deg)}get rain(){return`${void 0===this.weather.rain?" - ":this.weather.rain["1h"]} mm`}get unitSymbol(){return Object(x.a)(this.unit)}ToHourMinute(e){return d(e,this.timeZone)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Fb({type:e,selectors:[["wn-detailed-weather"]],inputs:{weather:"weather",timeZone:"timeZone",unit:"unit"},decls:39,vars:17,consts:[[1,"row","no-gutters","mt-2"],[1,"col-md-2","text-center"],[1,"card-img","mx-auto",2,"width","100%","max-width","10rem",3,"src"],[1,"col-md-4","pt-1","text-center"],[1,"mx-auto"],[1,"fas","fa-thermometer-half","text-secondary"],[1,"text-capitalize"],[1,"col-md-6"],[1,"row","mx-auto","text-center"],[1,"col-md"],[1,"fas","fa-temperature-low","text-info"],[1,"fas","fa-temperature-high","text-danger"],[1,"fas","fa-tint","text-primary"],[1,"fas","fa-cloud-rain","text-primary"],[1,"fas","fa-wind","text-info"],[1,"col-md","mx-auto"],[1,"fas","fa-sun","m-1","text-warning"],["title","Nascer do Sol",1,"col-md"],["title","P\xf4r do Sol",1,"col-md"]],template:function(e,t){1&e&&(p.Qb(0,"div",0),p.Qb(1,"div",1),p.Mb(2,"img",2),p.Pb(),p.Qb(3,"div",3),p.Qb(4,"h1",4),p.Mb(5,"i",5),p.xc(6),p.Pb(),p.Qb(7,"h5",4),p.xc(8),p.Pb(),p.Qb(9,"h3",6),p.xc(10),p.Pb(),p.Pb(),p.Qb(11,"div",7),p.Qb(12,"div",8),p.Qb(13,"h5",9),p.Mb(14,"i",10),p.xc(15),p.Pb(),p.Qb(16,"h5",9),p.Mb(17,"i",11),p.xc(18),p.Pb(),p.Pb(),p.Qb(19,"div",8),p.Qb(20,"h5",9),p.Mb(21,"i",12),p.xc(22),p.Pb(),p.Qb(23,"h5",9),p.Mb(24,"i",13),p.xc(25),p.Pb(),p.Pb(),p.Qb(26,"div",8),p.Qb(27,"h5",9),p.Mb(28,"i",14),p.xc(29),p.Pb(),p.Qb(30,"h5",15),p.xc(31),p.Pb(),p.Pb(),p.Qb(32,"div",8),p.Qb(33,"h5",9),p.Mb(34,"i",16),p.Qb(35,"span",17),p.xc(36),p.Pb(),p.Qb(37,"span",18),p.xc(38),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb()),2&e&&(p.yb(2),p.hc("src",t.weatherIcon,p.qc),p.yb(4),p.Ac(" ",t.weather.temp.toFixed(1)," ",t.unitSymbol," "),p.yb(2),p.Ac(" Sensa\xe7\xe3o: ",t.weather.feelsLike.toFixed(1)," ",t.unitSymbol," "),p.yb(2),p.yc(t.weather.description),p.yb(5),p.Ac(" ",t.weather.minTemp.toFixed(1)," ",t.unitSymbol," "),p.yb(3),p.Ac(" ",t.weather.maxTemp.toFixed(1)," ",t.unitSymbol," "),p.yb(4),p.zc(" ",t.weather.humidity.toFixed(1)," % "),p.yb(3),p.zc(" ",t.rain," "),p.yb(4),p.Ac(" ",t.weather.wind.speed.toFixed(1)," m/s - ",t.directionWind.id," "),p.yb(2),p.zc(" ",t.weather.pressure," hPa "),p.yb(5),p.zc(" Nascer: ",t.ToHourMinute(t.weather.sunrise)," "),p.yb(2),p.zc(" Ocaso: ",t.ToHourMinute(t.weather.sunset)," "))},styles:[""],changeDetection:0}),e})(),O=(()=>{class e{get weather(){return this.dailyWeather.weather}get date(){return s(this.dailyWeather.date)}get icon(){return Object(v.a)(this.weather.icon)}get unitSymbol(){return Object(x.a)(this.unit)}ToHourMinute(e){return d(e,this.timeZone)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Fb({type:e,selectors:[["wn-daily-weather"]],inputs:{dailyWeather:"dailyWeather",timeZone:"timeZone",unit:"unit"},decls:30,vars:10,consts:[[1,"card-header","text-center"],[1,"badge","text-light","bg-success"],[1,"mb-2",2,"max-width","540px"],[1,"row","no-gutters"],[1,"mx-auto"],[1,"card-img",2,"width","8rem",3,"src"],["data-bs-toggle","tooltip","data-bs-placement","right",1,"card-body"],[1,"row","text-center","mx-auto"],["title","M\xednima",1,"col"],[1,"fas","fa-temperature-low","text-info"],["title","M\xe1xima",1,"col"],[1,"fas","fa-temperature-high","text-danger"],["title","Humidade",1,"col"],[1,"fas","fa-tint","text-primary"],["title","Velocidade do Vento",1,"col"],[1,"fas","fa-wind","text-info"],[1,"col"],[1,"fas","fa-sun","m-1","text-warning"],["title","Nascer do Sol"],[1,"fas","fa-minus","m-1"],["title","P\xf4r do Sol"]],template:function(e,t){1&e&&(p.Qb(0,"h5",0),p.Qb(1,"span",1),p.xc(2),p.Pb(),p.Pb(),p.Qb(3,"div",2),p.Qb(4,"div",3),p.Qb(5,"div",4),p.Mb(6,"img",5),p.Pb(),p.Qb(7,"div",6),p.Qb(8,"div",7),p.Qb(9,"h6",8),p.Mb(10,"i",9),p.xc(11),p.Pb(),p.Qb(12,"h6",10),p.Mb(13,"i",11),p.xc(14),p.Pb(),p.Pb(),p.Qb(15,"div",7),p.Qb(16,"h6",12),p.Mb(17,"i",13),p.xc(18),p.Pb(),p.Qb(19,"h6",14),p.Mb(20,"i",15),p.xc(21),p.Pb(),p.Pb(),p.Qb(22,"div",7),p.Qb(23,"h6",16),p.Mb(24,"i",17),p.Qb(25,"span",18),p.xc(26),p.Pb(),p.Mb(27,"i",19),p.Qb(28,"span",20),p.xc(29),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb()),2&e&&(p.yb(2),p.yc(t.date),p.yb(4),p.hc("src",t.icon,p.qc),p.yb(5),p.Ac(" ",t.weather.minTemp.toFixed(1)," ",t.unitSymbol," "),p.yb(3),p.Ac(" ",t.weather.maxTemp.toFixed(1)," ",t.unitSymbol," "),p.yb(4),p.zc(" ",t.weather.humidity.toFixed(1)," % "),p.yb(3),p.zc(" ",t.weather.wind.speed.toFixed(1)," m/s "),p.yb(5),p.zc(" ",t.ToHourMinute(t.weather.sunrise)," "),p.yb(3),p.zc(" ",t.ToHourMinute(t.weather.sunset)," "))},styles:[""],changeDetection:0}),e})();function Q(e,t){1&e&&p.Mb(0,"wn-loader")}function j(e,t){if(1&e&&(p.Mb(0,"wn-daily-weather",12),p.dc(1,"async"),p.dc(2,"async")),2&e){const e=p.cc().$implicit,t=p.cc(3);p.hc("dailyWeather",e)("timeZone",p.ec(1,3,t.details$).city.timeZone)("unit",p.ec(2,5,t.unit$))}}function S(e,t){if(1&e&&(p.Ob(0),p.vc(1,j,3,7,"wn-daily-weather",11),p.dc(2,"async"),p.Nb()),2&e){const e=t.$implicit,i=p.cc(3);p.yb(1),p.hc("ngIf",i.validate(e.date)!==i.validate(p.ec(2,1,i.details$).current.dateTime))}}function M(e,t){if(1&e&&(p.Qb(0,"div"),p.Qb(1,"div"),p.Qb(2,"div",2),p.Qb(3,"div",3),p.Qb(4,"div",4),p.Qb(5,"h3",5),p.xc(6),p.dc(7,"async"),p.dc(8,"async"),p.Pb(),p.Qb(9,"div",6),p.Qb(10,"h4",7),p.xc(11),p.dc(12,"async"),p.dc(13,"async"),p.dc(14,"async"),p.Pb(),p.Pb(),p.Pb(),p.Mb(15,"wn-detailed-weather",8),p.dc(16,"async"),p.dc(17,"async"),p.dc(18,"async"),p.Pb(),p.Pb(),p.Qb(19,"div",9),p.vc(20,S,3,3,"ng-container",10),p.dc(21,"async"),p.Pb(),p.Pb(),p.Pb()),2&e){const e=p.cc(2);p.yb(6),p.Ac(" ",p.ec(7,9,e.details$).city.name,", ",p.ec(8,11,e.details$).city.country," "),p.yb(5),p.Bc(" ",e.dateTitle(p.ec(12,13,e.details$).current.dateTime).date," ",e.dateTitle(p.ec(13,15,e.details$).current.dateTime).month," ",e.dateTitle(p.ec(14,17,e.details$).current.dateTime).day," "),p.yb(4),p.hc("weather",p.ec(16,19,e.details$).current)("timeZone",p.ec(17,21,e.details$).city.timeZone)("unit",p.ec(18,23,e.unit$)),p.yb(5),p.hc("ngForOf",p.ec(21,25,e.details$).daily)}}function $(e,t){1&e&&(p.Qb(0,"div"),p.xc(1,"Erro"),p.Pb())}function N(e,t){if(1&e&&(p.Qb(0,"div"),p.vc(1,M,22,27,"div",1),p.dc(2,"async"),p.dc(3,"async"),p.vc(4,$,2,0,"div",1),p.dc(5,"async"),p.Pb()),2&e){const e=p.cc();p.yb(1),p.hc("ngIf",!p.ec(2,2,e.error$)&&p.ec(3,4,e.details$)),p.yb(3),p.hc("ngIf",p.ec(5,6,e.error$))}}let W=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.store.dispatch(b()),this.details$=this.store.pipe(Object(n.m)(m)),this.loading$=this.store.pipe(Object(n.m)(y)),this.error$=this.store.pipe(Object(n.m)(f)),this.unit$=this.store.pipe(Object(n.m)(g.a))}dateTitle(e){return function(e){return{day:o.unix(e).format("dddd").toUpperCase(),date:o.unix(e).format("DD").toUpperCase(),month:o.unix(e).format("MMMM").toUpperCase()}}(e)}validate(e){return s(e)}}return e.\u0275fac=function(t){return new(t||e)(p.Lb(n.b))},e.\u0275cmp=p.Fb({type:e,selectors:[["wn-details"]],decls:5,vars:6,consts:[[1,"container"],[4,"ngIf"],[1,"card","mt-2"],[1,"card-body"],[1,"row","text-center"],[1,"col-md-3"],[1,"row","col-md-9"],[1,"col-sm"],[3,"weather","timeZone","unit"],[1,"card-group"],[4,"ngFor","ngForOf"],["class","card mx-auto mt-2","style","min-width: 15rem;",3,"dailyWeather","timeZone","unit",4,"ngIf"],[1,"card","mx-auto","mt-2",2,"min-width","15rem",3,"dailyWeather","timeZone","unit"]],template:function(e,t){1&e&&(p.Qb(0,"div",0),p.vc(1,Q,1,0,"wn-loader",1),p.dc(2,"async"),p.vc(3,N,6,8,"div",1),p.dc(4,"async"),p.Pb()),2&e&&(p.yb(1),p.hc("ngIf",p.ec(2,2,t.loading$)),p.yb(2),p.hc("ngIf",!p.ec(4,4,t.loading$)))},directives:[a.l,w.a,P,a.k,O],pipes:[a.b],styles:[""]}),e})();var T=i("V/fk");let F=(()=>{class e{constructor(e){this.router=e}canActivate(e,t){return!(!e.queryParams.lat||!e.queryParams.lon)||this.router.createUrlTree([""])}}return e.\u0275fac=function(t){return new(t||e)(p.Xb(c.e))},e.\u0275prov=p.Hb({token:e,factory:e.\u0275fac}),e})();const Z=Object(n.i)({entity:void 0,loading:!1,error:!1},Object(n.k)(b,e=>Object.assign(Object.assign({},e),{entity:void 0,loading:!0,error:!1})),Object(n.k)(u,(e,{entity:t})=>Object.assign(Object.assign({},e),{entity:t,loading:!1})),Object(n.k)(h,e=>Object.assign(Object.assign({},e),{loading:!1,error:!0})));function D(e,t){return Z(e,t)}var k=i("itXk"),z=i("zp1y"),I=i("5+tZ"),H=i("JIr8"),A=i("lJxs");const E=Object(n.h)("router"),C=Object(n.j)(E,e=>e&&e.state||{}),L=Object(n.j)(C,e=>e&&e.queryParams||{});var J=i("d3tU");let X=(()=>{class e{constructor(e,t,i){this.actions$=e,this.store=t,this.weatherService=i,this.loadCurrentWeather$=Object(r.c)(()=>this.actions$.pipe(Object(r.d)(b),Object(z.a)(this.store.pipe(Object(n.m)(L))),Object(I.a)(([,e])=>Object(k.b)([this.weatherService.getCityWeatherByCoord(e.lat,e.lon),this.weatherService.getWeatherDetails(e.lat,e.lon)])),Object(H.a)((e,t)=>(this.store.dispatch(h()),t)),Object(A.a)(([e,t])=>{const i=t;return i.current=Object.assign({},e.weather),i.city=Object.assign(Object.assign({},e.city),{timeZone:t.city.timeZone}),u({entity:i})})))}}return e.\u0275fac=function(t){return new(t||e)(p.Xb(r.a),p.Xb(n.b),p.Xb(J.a))},e.\u0275prov=p.Hb({token:e,factory:e.\u0275fac}),e})(),U=(()=>{class e{}return e.\u0275mod=p.Jb({type:e}),e.\u0275inj=p.Ib({factory:function(t){return new(t||e)},providers:[F],imports:[[a.c,c.g.forChild([{path:"",component:W,canActivate:[F]}]),n.d.forFeature("details",D),r.b.forFeature([X]),T.a]]}),e})()},gKfn:function(e){e.exports=JSON.parse('[{"name":"Norte","deg":0,"id":"N"},{"name":"Norte-Nordeste","deg":22.5,"id":"NNE"},{"name":"Nordeste","deg":45,"id":"NE"},{"name":"Leste-Nordeste","deg":67.5,"id":"ENE"},{"name":"Leste","deg":90,"id":"E"},{"name":"Leste-Sudeste","deg":112.5,"id":"ESE"},{"name":"Sudeste","deg":135,"id":"SE"},{"name":"Sul-Sudeste","deg":157.5,"id":"SSE"},{"name":"Sul","deg":180,"id":"S"},{"name":"Sul-Sudoeste","deg":202.5,"id":"SSO"},{"name":"Sudoeste","deg":225,"id":"SW"},{"name":"Oeste-Sudoeste","deg":247.5,"id":"WSW"},{"name":"Oeste","deg":270,"id":"W"},{"name":"Oeste-Noroeste","deg":292.5,"id":"WNW"},{"name":"Noroeste","deg":315,"id":"NW"},{"name":"Norte-Noroeste","deg":337.5,"id":"NNW"}]')}}]);